(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{373:function(t,a,s){"use strict";s.r(a);var e=s(25),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"azure-vm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#azure-vm"}},[t._v("#")]),t._v(" Azure VM")]),t._v(" "),s("h2",{attrs:{id:"enable-disk-encryption"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enable-disk-encryption"}},[t._v("#")]),t._v(" Enable Disk Encryption")]),t._v(" "),s("code-group",[s("code-block",{attrs:{title:"Azure CLI"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("az vm encryption "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --resource-group "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("resource-group"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("vm-name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --disk-encryption-keyvault "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("keyvault-name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --volume-type "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("all "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" os "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])]),t._v(" "),s("code-block",{attrs:{title:"Powershell"}},[s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Set-AzVmDiskEncryptionExtension")]),t._v(" `\n\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ResourceGroupName <resource"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("group")]),t._v("> `\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("VMName <vm"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name> `\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("VolumeType "),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("[All | OS | Data]")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("DiskEncryptionKeyVaultId <keyVault"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ResourceId> `\n\t"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("DiskEncryptionKeyVaultUrl <keyVault"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("VaultUri> `\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("SkipVmBackup\n")])])])])],1),t._v(" "),s("h2",{attrs:{id:"view-the-status-of-the-disk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#view-the-status-of-the-disk"}},[t._v("#")]),t._v(" View the status of the disk")]),t._v(" "),s("code-group",[s("code-block",{attrs:{title:"Azure CLI"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("az vm encryption show --resource-group "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("resource-group"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" --name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("vm-name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])]),t._v(" "),s("code-block",{attrs:{title:"Powershell"}},[s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Get-AzVmDiskEncryptionStatus")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ResourceGroupName <resource"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("group")]),t._v("> "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("VMName <vm"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name>\n")])])])])],1),t._v(" "),s("h2",{attrs:{id:"decrypting-drives"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#decrypting-drives"}},[t._v("#")]),t._v(" Decrypting drives")]),t._v(" "),s("code-group",[s("code-block",{attrs:{title:"Azure CLI"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("az vm encryption disable --resource-group "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("resource-group"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" --name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("vm-name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])]),t._v(" "),s("code-block",{attrs:{title:"Powershell"}},[s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Disable-AzVMDiskEncryption")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ResourceGroupName <resource"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("group")]),t._v("> "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("VMName <vm"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("name>\n")])])])])],1),t._v(" "),s("h2",{attrs:{id:"run-template-deployment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#run-template-deployment"}},[t._v("#")]),t._v(" Run template deployment")]),t._v(" "),s("code-group",[s("code-block",{attrs:{title:"Azure CLI"}},[s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("az group deployment create --resource-group "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("my-resource-group"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" --name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("my-deployment-name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --template-uri https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/201-encrypt-running-windows-vm-without-aad/azuredeploy.json\n")])])])]),t._v(" "),s("code-block",{attrs:{title:"Powershell"}},[s("div",{staticClass:"language-powershell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("New-AzResourceGroupDeployment")]),t._v(" `\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Name encrypt"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("disk `\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ResourceGroupName <resource"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("group-name")]),t._v("> `\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("TemplateUri https:"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("raw"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("githubusercontent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("azure"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("azure"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("quickstart"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("templates"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("201"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("encrypt"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("running"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("windows"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("without"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("aad"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("azuredeploy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json\n")])])])])],1)],1)}),[],!1,null,null,null);a.default=r.exports}}]);